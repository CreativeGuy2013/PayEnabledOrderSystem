<!DOCTYPE html>
<html>
    <head>
        <title>User Display Client</title>
        <meta charset='utf-8' />
        <script src="sheetInteface.js"></script>
        <script async defer src="https://apis.google.com/js/api.js"></script>
        <script src="https://craig.global.ssl.fastly.net/js/mousetrap/mousetrap.min.js?a4098"></script>
        <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
        <link rel="manifest" href="/favicons/manifest.json">
        <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#f7b200">
        <link rel="shortcut icon" href="/favicons/favicon.ico">
        <meta name="msapplication-config" content="/favicons/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">
    </head>
    <body>
        <button onclick="refresh()">Refresh</button>
        <div id="data"></div>
    </body>
    <script>
        window.onload = function() {
            initSheetInterface("1025280902862-ce5bhdepthj3atsq495q0843ovu4emvk.apps.googleusercontent.com", "1TBulpTfiHAdXg_yAExV6gl5pjeln98vZvLX9mGk15LU", test)
        }

        test = function() {}

        refresh = function {
            get("Pay!A1:D20", function(returnValue) {
                document.getElementById("data").innerHTML == "<table style='table, th, td {border: 1px solid black;}'><tr><th>Uniqe ID</th><th>Passcode</th><th>Tokens</th><th>Function</th></tr>"

                for (i = 0; i < 9; i++) {
                    n = i;
                    b = i + 1;

                    if(returnValue[n][0] == "TRUE") {
                        document.getElementById("data").innerHTML == document.getElementById("data").innerHTML + "<tr><td><input id='" + n + ".0' value='" + returnValue[n][1] + "'></td><td><input id='" + n + ".1' value='" + returnValue[n][2] + "'></td><td><input id='" + n + ".2' value='" + returnValue[n][3] + "'></td><td>button onclick='update(" + n +")'>Update</button></td><td>button onclick='remove(" + n +")'>Remove</button></td></tr>"
                    }
                }
            });
        }
    </script>
</html>
